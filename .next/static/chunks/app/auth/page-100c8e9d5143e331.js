(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{2663:(e,t,r)=>{Promise.resolve().then(r.bind(r,4021))},4021:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115);let l=(0,r(6347).UU)("https://rdevbqmsboubrhrkhrlk.supabase.co","sb_publishable_pwm3rToGzOfm47F8zhhZlw_zshfxMyV");var n=r(2619),i=r.n(n);function o(){let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),h=async t=>{t.preventDefault(),u(!0),x("");try{if(o){let{error:t}=await l.auth.signInWithPassword({email:e,password:r});if(t)throw t;x("✅ 登录成功！正在跳转..."),setTimeout(()=>window.location.href="/",1500)}else{let{error:t}=await l.auth.signUp({email:e,password:r});if(t)throw t;x("✅ 注册成功！请检查邮箱确认链接。")}}catch(e){x("❌ 错误: ".concat(e.message))}finally{u(!1)}};return(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-600 to-pink-500 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"问DAO"}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"去中心化预测市场"})]}),(0,s.jsxs)("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[(0,s.jsx)("button",{onClick:()=>d(!0),className:"flex-1 py-2 rounded-lg transition font-medium ".concat(o?"bg-white shadow text-gray-900":"text-gray-500"),children:"登录"}),(0,s.jsx)("button",{onClick:()=>d(!1),className:"flex-1 py-2 rounded-lg transition font-medium ".concat(o?"text-gray-500":"bg-white shadow text-gray-900"),children:"注册"})]}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱 / Email"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none text-gray-900",placeholder:"your@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"密码 / Password"}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none text-gray-900",placeholder:"至少6位"})]}),m&&(0,s.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat(m.includes("✅")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:m}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg hover:opacity-90 transition disabled:opacity-50",children:c?"处理中...":o?"登录":"注册"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(i(),{href:"/",className:"text-sm text-purple-600 hover:underline",children:"← 返回首页 (游客模式)"})}),!o&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg text-sm text-yellow-700",children:["\uD83C\uDF81 注册即送 ",(0,s.jsx)("strong",{children:"100 道币"}),"，可用于预测下注！"]})]})})}}},e=>{e.O(0,[619,347,441,255,358],()=>e(e.s=2663)),_N_E=e.O()}]);